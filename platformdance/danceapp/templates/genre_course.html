{% extends 'base.html' %}
{% block content %}
{% load static %}
<!--이미지 슬라이더 -->
<div></div>
<div id="image-slider">
    <img src="{% static 'img/white_arrow_left.png' %}" class="prev" />
    <div class="carousel-wrapper">
        <div class="carousel">
            <a href="course_detail/1" class="carousel-a"><img src="{% static 'img/tumbnail/hiphop.jpeg' %}"
                alt=""></a>
            <a href="course_detail/2" class="carousel-a"><img src="{% static 'img/tumbnail/locking.jpeg' %}"
                alt="">
            </a>
            <a href="course_detail/3" class="carousel-a"><img src="{% static 'img/tumbnail/waacking.jpeg' %}"
                alt="">
            </a>
            <a href="course_detail/4" class="carousel-a"><img src="{% static 'img/tumbnail/Bboying.jpg' %}"
                alt="">
            </a>
            <a href="course_detail/5" class="carousel-a"><img src="{% static 'img/tumbnail/house.png' %}"
                alt="">
            </a>
            <a href="course_detail/6" class="carousel-a"><img src="{% static 'img/tumbnail/crump.jpeg' %}"
                alt="">
            </a>
            <a href="course_detail/7" class="carousel-a"><img src="{% static 'img/tumbnail/poping.jpeg' %}"
                alt="">
            </a>
            <a href="course_detail/8" class="carousel-a"><img src="{% static 'img/tumbnail/choregraphy.jpeg' %}"
                alt="">
            </a>
            <!-- {% for course in courses %}
            {% if course.photo %}
            <a href="{% url 'course_detail' course.id %}" class="carousel-a"><img src="{{ course.photo.url }}"
                    alt=""></a>
            {% endif %}
            {% endfor %} -->
        </div>
    </div>
    <img src="{% static 'img/white_arrow_right.png' %}" class="next" />
</div>

<div style="margin-left:400px;margin-top:183px;">
    <div id="dance-class"><a href="{% url 'genre_course' %}?genre_id=1">Hip-Hop</a></div>
    <div id="dance-class"><a href="{% url 'genre_course' %}?genre_id=2">Locking</a></div>
    <div id="dance-class"><a href="{% url 'genre_course' %}?genre_id=3">House</a></div>
    <div id="dance-class"><a href="{% url 'genre_course' %}?genre_id=4">B-Boying</a></div>
    <br />
    <div id="dance-class"><a href="{% url 'genre_course' %}?genre_id=5">Waacking</a></div>
    <div id="dance-class"><a href="{% url 'genre_course' %}?genre_id=6">krump</a></div>
    <div id="dance-class"><a href="{% url 'genre_course' %}?genre_id=7">Popping</a></div>
    <div id="dance-class"><a href="{% url 'genre_course' %}?genre_id=8">Choreography</a></div>
</div>
<div id="genre-class">
    <div id="class-name-section">
        <span id="class-name"></span>
        &nbsp;&nbsp;
        <img src="{% static 'img/orange_arrow.png' %}" />
    </div>
    <div id="slider-section">
        <img src="{% static 'img/white_arrow_left.png' %}" />
        <span style="color:white;font-size: 20px;">&nbsp; 3 / 6 &nbsp;</span>
        <img src="{% static 'img/white_arrow_right.png' %}" />
    </div>

    <div id="detail-class-section">
        {% for course in courses %}
        {% if course.photo %}
        <a href="{% url 'course_detail' course.id %}" id="detail-class-section-a"><img src="{{ course.photo.url }}"
                alt=""></a>
        {% endif %}
        {% endfor %}

    </div>
</div>


<script type="text/javascript">
    const classNameText = document.getElementById("class-name")
    let name = new URL(location).searchParams.get("genre_id");
    const genreClass = document.querySelector("#genre-class");
    console.log(typeof (name));
    if (name === "1") {
        classNameText.innerText = "Hip-Hop";
        genreClass.style.display = "block"
        document.querySelectorAll('#dance-class').forEach(item => {
            if (item.innerText === "Hip-Hop") {
                item.style.border = "1px solid white";
                item.style.backgroundColor = "black";
                item.style.color = "white";
            }
        })
    } else if (name === "2") {
        classNameText.innerText = "Locking";
        genreClass.style.display = "block"
        document.querySelectorAll('#dance-class').forEach(item => {
            if (item.innerText === "Locking") {
                item.style.border = "1px solid white";
                item.style.backgroundColor = "black";
                item.style.color = "white";
            }
        })
    }
    else if (name === "3") {
        classNameText.innerText = "Waacking";
        genreClass.style.display = "block"
        document.querySelectorAll('#dance-class').forEach(item => {
            if (item.innerText === "Waacking") {
                item.style.border = "1px solid white";
                item.style.backgroundColor = "black";
                item.style.color = "white";
            }
        })
    }
    else if (name === "4") {
        classNameText.innerText = "B-Boyibg";
        genreClass.style.display = "block"
        document.querySelectorAll('#dance-class').forEach(item => {
            if (item.innerText === "B-Boyibg") {
                item.style.border = "1px solid white";
                item.style.backgroundColor = "black";
                item.style.color = "white";
            }
        })
    }
    else if (name === "5") {
        classNameText.innerText = "House";
        genreClass.style.display = "block"
        document.querySelectorAll('#dance-class').forEach(item => {
            if (item.innerText === "House") {
                item.style.border = "1px solid white";
                item.style.backgroundColor = "black";
                item.style.color = "white";
            }
        })
    }
    else if (name === "6") {
        classNameText.innerText = "Crump";
        genreClass.style.display = "block"
        document.querySelectorAll('#dance-class').forEach(item => {
            if (item.innerText === "Crump") {
                item.style.border = "1px solid white";
                item.style.backgroundColor = "black";
                item.style.color = "white";
            }
        })
    }
    else if (name === "7") {
        classNameText.innerText = "Popping";
        genreClass.style.display = "block"
        document.querySelectorAll('#dance-class').forEach(item => {
            if (item.innerText === "Popping") {
                item.style.border = "1px solid white";
                item.style.backgroundColor = "black";
                item.style.color = "white";
            }
        })
    }
    else if (name === "8") {
        classNameText.innerText = "Choreography";
        genreClass.style.display = "block"
        document.querySelectorAll('#dance-class').forEach(item => {
            if (item.innerText === "Choreography") {
                item.style.border = "1px solid white";
                item.style.backgroundColor = "black";
                item.style.color = "white";
            }
        })
    }
    else {

        genreClass.style.display = "none"
    }
    // 이미지 슬라이더 스크립트
    const prevButton = document.querySelector('.prev');
    const nextButton = document.querySelector('.next');
    const carousel = document.querySelector('.carousel');
    let index = 0;

    prevButton.addEventListener('click', () => {
        if (index === 0) {
            index = 7;
        } else {
            index -= 1;
        }
        carousel.style.transform = `translate3d(-${600 * index}px, 0, 0)`;
    });

    nextButton.addEventListener('click', () => {
        if (index === 7) {
            index = 0;
        } else {
            index += 1;
        }
        carousel.style.transform = `translate3d(-${600 * index}px, 0, 0)`;
    });

    //클래스 선택 스크립트
    // const className = document.querySelectorAll('#dance-class').forEach((item)=>{
    //     item.addEventListener('click',()=>{
    //         document.location.href= `/classes?name=${item.innerText}`
    //     })
    // })

</script>
{% endblock %}